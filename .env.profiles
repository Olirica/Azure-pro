# ============================================================================
# TUNING PROFILES - Copy the profile you want to .env
# ============================================================================
# Three profiles aligned with Azure Speech recognition modes:
# - DICTATION: Best quality, slower (formal presentations, CEO speeches)
# - CONVERSATION: Balanced quality and speed (meetings, dialogues)
# - HYBRID: Mix of dictation quality with conversation speed
#
# NOTE: These profiles only show timing and recognition mode settings.
# You also need these common variables in your .env (see .env.example):
# - AUTO_DETECT_LANGS (e.g., en-CA,fr-CA)
# - PHRASE_HINTS (optional domain-specific terms)
# - FILTER_FILLER_WORDS (true/false)
# - TTS settings, translator settings, etc.
# ============================================================================

# ============================================================================
# PROFILE: DICTATION (Best Quality, Professional Presentations)
# ============================================================================
# Azure Mode: dictation (enableDictation)
# Use case: CEO presentations, board meetings, formal speeches, subtitles
# Trade-offs: Higher latency (~4-5s), but excellent punctuation & accuracy
# Total latency: ~4-5 seconds
# ============================================================================

# Azure Recognition Mode
RECOGNITION_MODE=dictation              # Enables dictation mode (best punctuation)

# Azure Speech SDK Timing
SPEECH_END_SILENCE_MS=800               # Wait for complete thoughts
SPEECH_SEGMENTATION_SILENCE_MS=1200     # Long pauses for proper clause boundaries
SPEECH_INITIAL_SILENCE_MS=5000          # Allow slow presentation starts
SPEECH_STABLE_PARTIALS=4                # Maximum stability

# Fast-Finals (Early prefix commits)
FASTFINALS_STABLE_K=3                   # Conservative prefix stability
FASTFINALS_MIN_STABLE_MS=600            # Wait longer for stable prefixes
FASTFINALS_PUNCT_STABLE_MS=400          # Punctuation stability
FASTFINALS_MIN_CHARS=40                 # Longer minimum segments
FASTFINALS_MIN_WORDS=7                  # More words per segment
FASTFINALS_EMIT_THROTTLE_MS=1000        # Less frequent emission

# Translation Buffering
TRANSLATION_MERGE_ENABLED=true
TRANSLATION_MERGE_WINDOW_MS=2000        # Extended merge window for quality
TRANSLATION_MIN_MERGE_CHARS=60          # Longer merged segments
TRANSLATION_MAX_MERGE_COUNT=4           # Merge up to 4 segments

# ============================================================================
# PROFILE: CONVERSATION (Balanced, Natural Dialogue)
# ============================================================================
# Azure Mode: conversation (default Azure mode)
# Use case: Team meetings, webinars, casual presentations, Q&A sessions
# Trade-offs: Balanced speed and quality, handles natural speech patterns
# Total latency: ~2.5-3.5 seconds
# ============================================================================

# Azure Recognition Mode
RECOGNITION_MODE=conversation           # Standard conversation mode

# Azure Speech SDK Timing
SPEECH_END_SILENCE_MS=500               # Moderate wait for turn-taking
SPEECH_SEGMENTATION_SILENCE_MS=700      # Natural pause detection
SPEECH_INITIAL_SILENCE_MS=3000          # Standard silence timeout
SPEECH_STABLE_PARTIALS=3                # Balanced stability

# Fast-Finals (Early prefix commits)
FASTFINALS_STABLE_K=2                   # Faster prefix commits
FASTFINALS_MIN_STABLE_MS=400            # Moderate stability wait
FASTFINALS_PUNCT_STABLE_MS=250          # Quick punctuation emission
FASTFINALS_MIN_CHARS=25                 # Moderate segment length
FASTFINALS_MIN_WORDS=4                  # Moderate word count
FASTFINALS_EMIT_THROTTLE_MS=700         # Moderate emission rate

# Translation Buffering
TRANSLATION_MERGE_ENABLED=true
TRANSLATION_MERGE_WINDOW_MS=1200        # Moderate merge window
TRANSLATION_MIN_MERGE_CHARS=40          # Moderate merged segments
TRANSLATION_MAX_MERGE_COUNT=2           # Merge up to 2 segments

# ============================================================================
# PROFILE: HYBRID (Dictation Quality at Conversation Speed) ⭐ RECOMMENDED
# ============================================================================
# Azure Mode: dictation (enableDictation)
# Use case: Professional conferences with quick pacing, live demos
# Trade-offs: Dictation punctuation quality with faster conversation timing
# Total latency: ~3-4 seconds (sweet spot)
# ============================================================================

# Azure Recognition Mode
RECOGNITION_MODE=dictation              # Use dictation for better punctuation

# Azure Speech SDK Timing (conversation-like timing)
SPEECH_END_SILENCE_MS=600               # Faster than pure dictation
SPEECH_SEGMENTATION_SILENCE_MS=900      # Moderate segmentation
SPEECH_INITIAL_SILENCE_MS=3000          # Standard timeout
SPEECH_STABLE_PARTIALS=4                # High stability

# Fast-Finals (Balanced approach)
FASTFINALS_STABLE_K=3                   # Balanced stability
FASTFINALS_MIN_STABLE_MS=500            # Moderate wait
FASTFINALS_PUNCT_STABLE_MS=350          # Good punctuation timing
FASTFINALS_MIN_CHARS=35                 # Balanced segment length
FASTFINALS_MIN_WORDS=6                  # Balanced word count
FASTFINALS_EMIT_THROTTLE_MS=800         # Moderate emission rate

# Translation Buffering
TRANSLATION_MERGE_ENABLED=true
TRANSLATION_MERGE_WINDOW_MS=1500        # Standard buffering
TRANSLATION_MIN_MERGE_CHARS=50          # Good context preservation
TRANSLATION_MAX_MERGE_COUNT=3           # Merge up to 3 segments

# ============================================================================
# HOW TO USE THESE PROFILES
# ============================================================================
# 1. Start with .env.example or your existing .env file
# 2. Choose the profile that matches your use case above
# 3. Copy ALL the variables from that profile section
# 4. Paste/replace them into your .env file (or Railway dashboard)
# 5. Ensure you also have these profile-independent settings:
#    - AUTO_DETECT_LANGS=en-CA,fr-CA (or your languages)
#    - PHRASE_HINTS=YourBrand,Terms,Here (optional)
#    - FILTER_FILLER_WORDS=true (recommended)
#    - Azure credentials (SPEECH_KEY, TRANSLATOR_KEY, etc.)
#    - TTS settings (see .env.example for details)
# 6. Restart your server
#
# RECOGNITION_MODE is the key difference:
# - dictation = Best punctuation, capitalization, homophone resolution
# - conversation = Natural dialogue, handles "um"/"uh", faster
# - hybrid = Dictation quality with conversation speed (recommended)
#
# Language ID Priority is set client-side:
# - When AUTO_DETECT_LANGS is configured and user selects "auto" language,
#   the client automatically uses "Accuracy" priority for best language detection
# ============================================================================

# ============================================================================
# COMPARISON TABLE
# ============================================================================
# Profile      | Mode         | Latency | Quality     | Punctuation | Use Case
# -------------|--------------|---------|-------------|-------------|------------------
# DICTATION    | dictation    | ~4-5s   | ⭐⭐⭐⭐⭐   | Excellent   | CEO speeches
# CONVERSATION | conversation | ~2.5s   | ⭐⭐⭐      | Good        | Team meetings
# HYBRID       | dictation    | ~3-4s   | ⭐⭐⭐⭐    | Excellent   | Conferences ⭐
# ============================================================================
